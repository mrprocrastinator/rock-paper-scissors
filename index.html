<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Game: Rock, Paper or Scissors</title>
</head>
<body>
    <script>
        //global variable to count player wins
        let playerScore = 0;

        //global variable to count computer wins
        let computerScore = 0;

        let playerSelection;
        let computerSelection;

        //function to assign computer choice
        function getComputerChoice () {
            let randomNumber = Math.random();
            if (randomNumber <= 0.33) {
                return "rock";
            }
            else if (randomNumber <= 0.66) {
                return "paper";
            }
            return "scissors";
        }

        //function to compare player selection and computer selection
        //not using switch because I cant return multiple values after a case

        // function playRound(playerSelection, computerSelection) {
        //     switch (computerSelection) {
        //         case "rock":
        //             switch (playerSelection) {
        //                 case "rock": return "It's tie";
        //                 break;
        //                 case "paper": return "You win! Paper beats rock";
        //                             : return i++;
        //                 break;
        //                 case "scissors": return "You lose! Rock beats scissors";
        //                 break;
        //             }
        //         case "paper":
        //             switch (playerSelection) {
        //                 case "rock": return "You lose! Paper beats rock";
        //                 break;
        //                 case "paper": return "It's tie";
        //                 break;
        //                 case "scissors": return "You win! Scissors beats paper";
        //                                : return i++;
        //                 break;
        //             }
        //         case "scissors":
        //             switch (playerSelection) {
        //                 case "rock": return "You win! Rock beats scissors";
        //                            : return i++;
        //                 break;
        //                 case "paper": return "You lose! Scissors beat paper";
        //                 break;
        //                 case "scissors": return "It's tie";
        //                 break;
        //             }
        //     }
        //}

        function playRound(playerSelection, computerSelection) {
            

            if (playerSelection === null) {
                k = 5;
                alert("Game terminated!");
            }
            
            else if ((playerSelection == "rock" && computerSelection == "scissors") ||
                    (playerSelection == "paper" && computerSelection == "rock") ||
                    (playerSelection == "scissors" && computerSelection == "paper")) {
                ++playerScore;
                alert("You won! " +playerSelection + " beats " +computerSelection +"\n\nPlayer Score: " + playerScore + "\nComputer Score: " + computerScore);
            }

            else if ((playerSelection == "rock" && computerSelection == "paper") ||
                    (playerSelection == "paper" && computerSelection == "scissors") ||
                    (playerSelection == "scissors" && computerSelection == "rock")) {
                ++computerScore;
                alert("You lose! " +computerSelection + " beats " +playerSelection +"\n\nPlayer Score: " + playerScore + "\nComputer Score: " + computerScore);
            }

            else if (playerSelection == computerSelection) {
                alert("It's a tie! You both chose " +playerSelection +"\n\n Player Score: " + playerScore + "\nComputer Score: " + computerScore)
            }

            else {
                alert("Not a valid option!");
            }
        }


        //function to play the game 5 times
        function playGame () {
            playerScore = 0;
            computerScore = 0;
            k = 0;

            while (playerScore < 3 & computerScore < 3 & k < 5) {
                playRound(playerSelection = prompt("Your choice?"), computerSelection = getComputerChoice());
            }
            if (playerScore > computerScore) {
                alert("You won the game! Reload to play again. \n\nPlayer Score: " + playerScore + "\nComputer Score: " + computerScore);
            }
            else if (computerScore > playerScore) alert("I won the game! Reload to play again. \n\nPlayer Score: " + playerScore + "\nComputer Score: " + computerScore);
        }
        playGame();


        // const playerSelection = "rock";
        // const computerSelection = getComputerChoice();
        // console.log(playRound(playerSelection, computerSelection));
    </script>
</body>
</html>